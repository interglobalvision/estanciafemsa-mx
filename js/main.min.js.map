{"version":3,"sources":["main.js"],"names":["setLang","code","$langEs","hide","$langEn","show","window","location","hash","matchHeights","selector","topHeight","$","each","height","this","css","onResize","winHeight","winWidth","width","min-height","$splashContainer","bindScrollEvent","on","target","attr","animate","scrollTop","offset","top","removeSplash","$splash","remove","$scrollBuffer","off","document","ready","console","log","substring","scroll","elPos","elBottom","elPercent","resize","click","e","preventDefault","data","string","html","replace"],"mappings":"AAYA,QAASA,SAAQC,GACF,OAATA,GACFC,QAAQC,OACRC,QAAQC,OACRC,OAAOC,SAASC,KAAO,OAEvBJ,QAAQD,OACRD,QAAQG,OACRC,OAAOC,SAASC,KAAO,MAI3B,QAASC,cAAaC,GACpB,GAAIC,GAAY,CAEhBC,GAAEF,GAAUG,KAAK,WACb,GAAIC,GAASF,EAAEG,MAAMD,QAEjBA,GAASH,IACXA,EAAYG,KAIlBF,EAAEF,GAAUM,IAAI,SAAUL,GAG5B,QAASM,YACPC,UAAYN,EAAEN,QAAQQ,SACtBK,SAAWP,EAAEN,QAAQc,QAErBR,EAAE,cAAcI,KACdK,aAA0B,EAAZH,YAGhBI,iBAAiBN,KACfF,OAAUI,UACVE,MAASD,WAGXV,aAAa,iBAIf,QAASc,mBACPX,EAAE,WAAWY,GAAG,QAAS,WACvB,GAAIC,GAASb,EAAEG,MAAMW,KAAK,cAE1Bd,GAAE,cAAce,SACdC,UAAWhB,EAAEa,GAAQI,SAASC,KAC7B,OAKP,QAASC,gBACPnB,EAAE,mBAAmBI,IAAI,WAAY,YACrCgB,QAAQC,SACRC,cAAcD,SACdrB,EAAEN,QAAQsB,UAAU,GAAGO,IAAI,UAC3BZ,kBApEF,GAAIL,WACAC,SACAjB,QAAUU,EAAE,YACZR,QAAUQ,EAAE,YAEZoB,QAAUpB,EAAE,WACZsB,cAAgBtB,EAAE,kBAClBU,iBAAmBV,EAAE,oBAgEzBA,GAAEwB,UAAUC,MAAM,WAChB,YAEApB,YAEIX,OAAOC,SAASC,OAClB8B,QAAQC,IAAIjC,OAAOC,SAASC,MAC5BR,QAAQM,OAAOC,SAASC,KAAKgC,UAAU,KAGzCR,QAAQR,GAAG,QAAS,WAClBZ,EAAEG,MAAMY,SACNb,OAAU,MACT,IAAM,WACPiB,mBAIJnB,EAAEN,QAAQkB,IACRiB,OAAQ,WACN,GAAIC,GAAQR,cAAcL,SAASC,IAAMlB,EAAEN,QAAQsB,YACjDe,EAAWD,EAAQxB,UACnB0B,EAAaD,EAAWzB,UAAa,GAEvCc,SAAQhB,IAAI,SAAU4B,EAAY,KAEhB,IAAdA,GACFb,gBAIJc,OAAQ,WACN5B,cAIJL,EAAE,gBAAgBY,IAChBsB,MAAO,SAASC,GACdA,EAAEC,iBACFhD,QAAQY,EAAEG,MAAMkC,KAAK,YAKzBrC,EAAE,kBAAkBC,KAAK,WACvB,GAAIqC,GAAStC,EAAEG,MAAMoC,MAErBD,GAASA,EAAOE,QAAQ,YAAY,YACpCxC,EAAEG,MAAMoC,KAAKD","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document */\n\nvar winHeight;\nvar winWidth;\nvar $langEs = $('.lang-es');\nvar $langEn = $('.lang-en');\n\nvar $splash = $('#splash');\nvar $scrollBuffer = $('#scroll-buffer');\nvar $splashContainer = $('#splash-container');\n\nfunction setLang(code) {\n  if (code === 'en') {\n    $langEs.hide();\n    $langEn.show();\n    window.location.hash = 'en';\n  } else {\n    $langEn.hide();\n    $langEs.show();\n    window.location.hash = 'es';\n  }\n}\n\nfunction matchHeights(selector) {\n  var topHeight = 0;\n\n  $(selector).each(function(){\n      var height = $(this).height();\n\n      if (height > topHeight){\n        topHeight = height;\n      }\n  });\n\n  $(selector).css('height', topHeight);\n}\n\nfunction onResize() {\n  winHeight = $(window).height();\n  winWidth = $(window).width();\n\n  $('html, body').css({\n    'min-height': winHeight * 2,\n  });\n\n  $splashContainer.css({\n    'height': winHeight,\n    'width': winWidth,\n  });\n\n  matchHeights('.match-height');\n}\n\n// SCROLLTO EVENTS\nfunction bindScrollEvent() {\n  $('.scroll').on('click', function() {\n    var target = $(this).attr('data-scroll');\n\n    $('html, body').animate({\n      scrollTop: $(target).offset().top,\n    }, 1000);\n  });\n}\n\n// SPLASH SCROLL\nfunction removeSplash() {\n  $('#main-container').css('position', 'relative');\n  $splash.remove();\n  $scrollBuffer.remove();\n  $(window).scrollTop(0).off('scroll');\n  bindScrollEvent();\n}\n\n$(document).ready(function () {\n  'use strict';\n\n  onResize();\n\n  if (window.location.hash) {\n    console.log(window.location.hash);\n    setLang(window.location.hash.substring(1));\n  }\n\n  $splash.on('click', function() {\n    $(this).animate({\n      'height': '0%',\n    }, 1000, function() {\n      removeSplash();\n    });\n  });\n\n  $(window).on({\n    scroll: function() {\n      var elPos = $scrollBuffer.offset().top - $(window).scrollTop(),\n        elBottom = elPos + winHeight,\n        elPercent = (elBottom / winHeight) * 100;\n\n      $splash.css('height', elPercent + '%');\n\n      if (elPercent === 0) {\n        removeSplash();\n      }\n    },\n\n    resize: function() {\n      onResize();\n    },\n  });\n\n  $('.js-set-lang').on({\n    click: function(e) {\n      e.preventDefault();\n      setLang($(this).data('lang'));\n    },\n  });\n\n  // utility class mainly for use on headines to avoid widows [single words on a new line]\n  $('.js-fix-widows').each(function(){\n    var string = $(this).html();\n\n    string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n    $(this).html(string);\n  });\n\n});"],"sourceRoot":"/source/"}