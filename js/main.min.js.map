{"version":3,"sources":["main.js"],"names":["setLang","code","$langEs","hide","$langEn","show","window","location","hash","matchHeights","selector","topHeight","$","each","height","this","css","onResize","winHeight","winWidth","width","min-height","$splashContainer","bindScrollEvent","on","target","attr","animate","scrollTop","offset","top","removeSplash","$splash","remove","$scrollBuffer","off","sr","debounce","func","threshold","execAsap","timeout","delayed","apply","obj","args","arguments","clearTimeout","setTimeout","jQuery","fn","bind","trigger","document","ready","console","log","substring","scroll","e","elPos","elBottom","elPercent","is","preventDefault","smartresize","click","data","string","html","replace"],"mappings":"AAiDA,QAASA,SAAQC,GACF,OAATA,GACFC,QAAQC,OACRC,QAAQC,OACRC,OAAOC,SAASC,KAAO,OAEvBJ,QAAQD,OACRD,QAAQG,OACRC,OAAOC,SAASC,KAAO,MAI3B,QAASC,cAAaC,GACpB,GAAIC,GAAY,CAEhBC,GAAEF,GAAUG,KAAK,WACb,GAAIC,GAASF,EAAEG,MAAMD,QAEjBA,GAASH,IACXA,EAAYG,KAIlBF,EAAEF,GAAUM,IAAI,SAAUL,GAG5B,QAASM,YACPC,UAAYN,EAAEN,QAAQQ,SACtBK,SAAWP,EAAEN,QAAQc,QAErBR,EAAE,cAAcI,KACdK,aAA0B,EAAZH,YAGhBI,iBAAiBN,KACfF,OAAUI,UACVE,MAASD,WAGXV,aAAa,iBAIf,QAASc,mBACPX,EAAE,WAAWY,GAAG,QAAS,WACvB,GAAIC,GAASb,EAAEG,MAAMW,KAAK,cAE1Bd,GAAE,cAAce,SACdC,UAAWhB,EAAEa,GAAQI,SAASC,KAC7B,OAKP,QAASC,gBACPnB,EAAE,mBAAmBI,IAAI,WAAY,YACrCgB,QAAQC,SACRC,cAAcD,SACdrB,EAAEN,QAAQsB,UAAU,GAAGO,IAAI,UAC3BZ,mBAxGF,SAAUX,EAAEwB,GAIV,GAAIC,GAAW,SAAUC,EAAMC,EAAWC,GACxC,GAAIC,EAEJ,OAAO,YAGL,QAASC,KACFF,GACHF,EAAKK,MAAMC,EAAKC,GAGlBJ,EAAU,KAPZ,GAAIG,GAAM7B,KAAM8B,EAAOC,SAUnBL,GACFM,aAAaN,GACJD,GACTF,EAAKK,MAAMC,EAAKC,GAGlBJ,EAAUO,WAAWN,EAASH,GAAa,MAI/CU,QAAOC,GAAGd,GAAM,SAASc,GACvB,MAAOA,GAAKnC,KAAKoC,KAAK,SAAUd,EAASa,IAAOnC,KAAKqC,QAAQhB,KAG9Da,OAAO,cAIV,IAAI/B,WACAC,SACAjB,QAAUU,EAAE,YACZR,QAAUQ,EAAE,YAEZoB,QAAUpB,EAAE,WACZsB,cAAgBtB,EAAE,kBAClBU,iBAAmBV,EAAE,oBAgEzBA,GAAEyC,UAAUC,MAAM,WAChB,YAEArC,YAEIX,OAAOC,SAASC,OAClB+C,QAAQC,IAAIlD,OAAOC,SAASC,MAC5BR,QAAQM,OAAOC,SAASC,KAAKiD,UAAU,KAGzCzB,QAAQR,GAAG,QAAS,WAClBZ,EAAEG,MAAMY,SACNb,OAAU,MACT,IAAM,WACPiB,mBAIJnB,EAAEN,QAAQkB,IACRkC,OAAQ,SAASC,GACf,GAAIC,GAAQ1B,cAAcL,SAASC,IAAMlB,EAAEN,QAAQsB,YAC/CiC,EAAWD,EAAQ1C,UACnB4C,EAAaD,EAAW3C,UAAa,GAE1B,KAAXC,UAAkBa,QAAQ+B,GAAG,aAC/BJ,EAAEK,iBACFhC,QAAQL,SACNb,OAAU,MACT,IAAM,WACPiB,mBAGFC,QAAQhB,IAAI,SAAU8C,EAAY,KAEhB,IAAdA,GACF/B,mBAMRnB,EAAEN,QAAQ2D,YAAY,WACpBhD,aAGFL,EAAE,gBAAgBY,IAChB0C,MAAO,SAASP,GACdA,EAAEK,iBACFhE,QAAQY,EAAEG,MAAMoD,KAAK,YAKzBvD,EAAE,kBAAkBC,KAAK,WACvB,GAAIuD,GAASxD,EAAEG,MAAMsD,MAErBD,GAASA,EAAOE,QAAQ,YAAY,YACpC1D,EAAEG,MAAMsD,KAAKD","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document */\n\n// http://www.paulirish.com/2009/throttled-smartresize-jquery-event-handler/\n(function($,sr){\n\n  // debouncing function from John Hann\n  // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\n  var debounce = function (func, threshold, execAsap) {\n    var timeout;\n\n    return function debounced () {\n      var obj = this, args = arguments;\n\n      function delayed () {\n        if (!execAsap) {\n          func.apply(obj, args);\n        }\n\n        timeout = null;\n      };\n\n      if (timeout) {\n        clearTimeout(timeout);\n      } else if (execAsap) {\n        func.apply(obj, args);\n      }\n\n      timeout = setTimeout(delayed, threshold || 100);\n    };\n  }\n  // smartresize\n  jQuery.fn[sr] = function(fn) {\n    return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr);\n  };\n\n})(jQuery,'smartresize');\n\n// OUR STUFF\n\nvar winHeight;\nvar winWidth;\nvar $langEs = $('.lang-es');\nvar $langEn = $('.lang-en');\n\nvar $splash = $('#splash');\nvar $scrollBuffer = $('#scroll-buffer');\nvar $splashContainer = $('#splash-container');\n\nfunction setLang(code) {\n  if (code === 'en') {\n    $langEs.hide();\n    $langEn.show();\n    window.location.hash = 'en';\n  } else {\n    $langEn.hide();\n    $langEs.show();\n    window.location.hash = 'es';\n  }\n}\n\nfunction matchHeights(selector) {\n  var topHeight = 0;\n\n  $(selector).each(function(){\n      var height = $(this).height();\n\n      if (height > topHeight){\n        topHeight = height;\n      }\n  });\n\n  $(selector).css('height', topHeight);\n}\n\nfunction onResize() {\n  winHeight = $(window).height();\n  winWidth = $(window).width();\n\n  $('html, body').css({\n    'min-height': winHeight * 2,\n  });\n\n  $splashContainer.css({\n    'height': winHeight,\n    'width': winWidth,\n  });\n\n  matchHeights('.match-height');\n}\n\n// SCROLLTO EVENTS\nfunction bindScrollEvent() {\n  $('.scroll').on('click', function() {\n    var target = $(this).attr('data-scroll');\n\n    $('html, body').animate({\n      scrollTop: $(target).offset().top,\n    }, 1000);\n  });\n}\n\n// SPLASH SCROLL\nfunction removeSplash() {\n  $('#main-container').css('position', 'relative');\n  $splash.remove();\n  $scrollBuffer.remove();\n  $(window).scrollTop(0).off('scroll');\n  bindScrollEvent();\n}\n\n$(document).ready(function () {\n  'use strict';\n\n  onResize();\n\n  if (window.location.hash) {\n    console.log(window.location.hash);\n    setLang(window.location.hash.substring(1));\n  }\n\n  $splash.on('click', function() {\n    $(this).animate({\n      'height': '0%',\n    }, 1000, function() {\n      removeSplash();\n    });\n  });\n\n  $(window).on({\n    scroll: function(e) {\n      var elPos = $scrollBuffer.offset().top - $(window).scrollTop();\n      var elBottom = elPos + winHeight;\n      var elPercent = (elBottom / winHeight) * 100;\n\n      if (winWidth < 600 && $splash.is(':visible')) {\n        e.preventDefault();\n        $splash.animate({\n          'height': '0%',\n        }, 1000, function() {\n          removeSplash();\n        });\n      } else {\n        $splash.css('height', elPercent + '%');\n\n        if (elPercent === 0) {\n          removeSplash();\n        }\n      }\n    },\n  });\n\n  $(window).smartresize(function(){\n    onResize();\n  });\n\n  $('.js-set-lang').on({\n    click: function(e) {\n      e.preventDefault();\n      setLang($(this).data('lang'));\n    },\n  });\n\n  // utility class mainly for use on headines to avoid widows [single words on a new line]\n  $('.js-fix-widows').each(function(){\n    var string = $(this).html();\n\n    string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n    $(this).html(string);\n  });\n\n});"],"sourceRoot":"/source/"}